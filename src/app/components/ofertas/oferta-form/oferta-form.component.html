<div class="oferta-layout">
  <header class="topbar">
    <h1 class="titulo-app">Secretaría Académica</h1>
  </header>

  <main class="contenido">
    <h2 class="titulo-form" *ngIf="estado === 'form'">Formulario de Oferta</h2>
    <h2 class="titulo-form" *ngIf="estado === 'registrada' || estado === 'publicada'">Oferta registrada</h2>

    <!-- REGISTRAR -->
    <section class="panel" *ngIf="estado === 'form'">
      <h3 class="panel-title">Rellenar datos</h3>

      <form class="oferta-form" (ngSubmit)="registrarOferta()">
        <div class="campo">
          <label for="descripcion">descripcion</label>
          <input
            id="descripcion"
            name="descripcion"
            type="text"
            [(ngModel)]="oferta.descripcion"
            required
          />
        </div>

        <div class="campo">
          <label for="lugar">lugar</label>
          <input
            id="lugar"
            name="lugar"
            type="text"
            [(ngModel)]="oferta.lugar"
            required
          />
        </div>

        <div class="campo">
          <label for="cupos">cupos</label>
          <input
            id="cupos"
            name="cupos"
            type="number"
            min="1"
            [(ngModel)]="oferta.cupos"
            required
          />
        </div>

        <div class="campo">
          <label for="requisitos">requisitos</label>
          <input
            id="requisitos"
            name="requisitos"
            type="text"
            [(ngModel)]="oferta.requisitos"
          />
        </div>

        <div class="campo">
          <label for="fechaTerminoOferta">fecha limite</label>
          <input
            id="fechaTerminoOferta"
            name="fechaTerminoOferta"
            type="date"
            [min]="fechaActual"
            [(ngModel)]="oferta.fechaTerminoOferta"
            required
          />
        </div>

        <button
          type="submit"
          class="btn-registrar"
          [disabled]="!validarDatos()"
          [class.btn-deshabilitado]="!validarDatos()"
        >
          Registrar oferta
        </button>
      </form>
    </section>

    <!-- PUBLICAR -->
    <section class="panel panel-centro" *ngIf="estado === 'registrada'">
      <button class="btn-publicar" (click)="publicarOferta()">Publicar oferta</button>
    </section>

    <!-- CONFIRMACIÓN -->
    <section class="panel panel-centro" *ngIf="estado === 'publicada'">
      <div class="mensaje-publicada">
        la oferta de voluntariado <strong>{{ ultimaDescripcion || 'registrando' }}</strong> ha sido publicada
      </div>

    </section>
  </main>
</div>
